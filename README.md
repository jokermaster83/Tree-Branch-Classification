## ğŸŒ³ Tree Branch Classification Based on 3D Skeleton Extraction

æœ¬é¡¹ç›®åŸºäºæœæ ‘ä¸‰ç»´ç‚¹äº‘çš„ä¸»å¹²ç»“æ„æå–ï¼Œå®Œæˆ**æ ‘æçš„è‡ªåŠ¨å±‚çº§åˆ†ç±»**ï¼Œé€‚ç”¨äºç²¾å‡†å†œä¸šåœºæ™¯ä¸­çš„**æ ‘å½¢å»ºæ¨¡ã€ææ¡è¯†åˆ«ä¸åç»­å‰ªææ¨è**ã€‚

---

### ğŸ“Œ é¡¹ç›®ç®€ä»‹

è¾“å…¥æœæ ‘çš„ä¸‰ç»´ç‚¹äº‘æ•°æ®ï¼ˆå¦‚ `.ply` / `.pcd` æ ¼å¼ï¼‰ï¼Œæœ¬é¡¹ç›®é¦–å…ˆæå–æ ‘ä½“éª¨æ¶ç»“æ„ï¼Œå¹¶åœ¨éª¨æ¶ä¸Šè¿›è¡Œæ‹“æ‰‘ç»“æ„åˆ†æï¼Œè‡ªåŠ¨å®Œæˆä»¥ä¸‹åŠŸèƒ½ï¼š

* ğŸŒ² ä¸»å¹²è¯†åˆ«ï¼ˆTrunkï¼‰
* ğŸŒ¿ ä¸€çº§æï¼ˆPrimary branchï¼‰è¯†åˆ«
* ğŸƒ äºŒçº§æï¼ˆSecondary branchï¼‰è¯†åˆ«
* ğŸ‚ ä¸‰çº§æï¼ˆTertiary branchï¼‰è¯†åˆ«
* ğŸ“ è¾“å‡ºå„çº§ææ¡çš„**æ•°é‡ã€é•¿åº¦ä¸å±‚çº§æ ‡ç­¾**

æœ¬é¡¹ç›®æ˜¯å‰ªææ¨èç³»ç»Ÿçš„æ ¸å¿ƒå‰ç½®æ¨¡å—ã€‚

---

### ğŸ–¼ï¸ æ ·ä¾‹ç»“æœ

>

---

### ğŸ“ é¡¹ç›®ç»“æ„

```bash
Tree-Branch-Classification/
â”‚
â”œâ”€â”€ skeletor/               # æ ¸å¿ƒç®—æ³•æ¨¡å—ï¼ˆéª¨æ¶æå–ã€æ ‘æåˆ†ç±»ï¼‰
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ segmentation.py     # æ‹“æ‰‘ç»“æ„åˆ†æ
â”‚   â””â”€â”€ utilities.py
â”‚
â”œâ”€â”€ data/                   # ç¤ºä¾‹ç‚¹äº‘æ•°æ®ï¼ˆå¯é€‰ä¸Šä¼ ï¼‰
â”‚   â””â”€â”€ tree_sample.ply
â”‚
â”œâ”€â”€ results/                # åˆ†ç±»è¾“å‡ºç»“æœï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰
â”‚   â”œâ”€â”€ hierarchy_labels.json
â”‚   â””â”€â”€ branch_stats.csv
â”‚
â”œâ”€â”€ tests/                  # å•å…ƒæµ‹è¯•
â”‚   â””â”€â”€ test_skeletor.py
â”‚
â”œâ”€â”€ requirements.txt        # Pythonä¾èµ–
â”œâ”€â”€ README.md               # é¡¹ç›®è¯´æ˜æ–‡ä»¶
â””â”€â”€ run.py                  # é¡¹ç›®å…¥å£è„šæœ¬
```

---

### âš™ï¸ å®‰è£…ä¾èµ–

å»ºè®®ä½¿ç”¨ Python 3.8+ è™šæ‹Ÿç¯å¢ƒè¿è¡Œï¼š

```bash
# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼ˆå¯é€‰ï¼‰
python -m venv venv
source venv/bin/activate  # Windows ç”¨ venv\Scripts\activate

# å®‰è£…ä¾èµ–
pip install -r requirements.txt
```

---

### ğŸš€ å¿«é€Ÿå¼€å§‹

```bash
python run.py --input ./data/tree_sample.ply --output ./results/
```

é»˜è®¤å°†è¾“å‡ºæ¯ä¸€çº§æ ‘æçš„æ•°é‡ã€é•¿åº¦ç»Ÿè®¡ä»¥åŠåˆ†æ”¯å±‚çº§æ ‡ç­¾ã€‚

---

### ğŸ§  ç®—æ³•åŸç†ç®€è¿°

æœ¬æ–¹æ³•åŒ…å«ä»¥ä¸‹æ ¸å¿ƒæ­¥éª¤ï¼š

1. **ç‚¹äº‘éª¨æ¶æå–**ï¼ˆSkeletonizationï¼‰ï¼šé‡‡ç”¨æ”¶ç¼©é©±åŠ¨çš„ç®—æ³•æå–éª¨æ¶ç‚¹äº‘ã€‚
2. **æ‹“æ‰‘ç»“æ„é‡å»º**ï¼šè¯†åˆ«ä¸»å¹²ã€åˆ†å‰ç‚¹ï¼Œå¹¶æ ¹æ®ç©ºé—´ä¸æ‹“æ‰‘è§„åˆ™åˆ†å±‚å½’ç±»ã€‚
3. **æ ‘æåˆ†ç±»ä¸æ ‡ç­¾æ ‡æ³¨**ï¼šé€šè¿‡ä¸»å¹²â†’ä¸€çº§â†’äºŒçº§â†’ä¸‰çº§çš„æ–¹å‘æ€§ç”Ÿé•¿ä¸è¿æ¥å…³ç³»è¿›è¡Œåˆ†ç±»ã€‚
4. **é•¿åº¦ä¸æ•°é‡è®¡ç®—**ï¼šåŸºäºç©ºé—´ç‚¹åæ ‡æµ‹é‡æ¯ä¸ªåˆ†æ”¯çš„é•¿åº¦å’Œå±‚çº§å½’å±ã€‚

---

### ğŸ“¦ è¾“å‡ºæ ¼å¼è¯´æ˜

* `branch_stats.csv`ï¼šæ¯çº§æ ‘æçš„æ•°é‡ã€å¹³å‡é•¿åº¦ã€æ€»é•¿åº¦ç­‰
* `hierarchy_labels.json`ï¼šæ¯ä¸ªéª¨æ¶èŠ‚ç‚¹å¯¹åº”çš„å±‚çº§æ ‡ç­¾å’Œè¿æ¥ä¿¡æ¯

---

### ğŸ”§ å¯é€‰å‚æ•°ï¼ˆ`run.py`ï¼‰

| å‚æ•°             | è¯´æ˜                 | ç¤ºä¾‹                 |
| -------------- | ------------------ | ------------------ |
| `--input`      | è¾“å…¥ç‚¹äº‘è·¯å¾„             | `tree.ply`         |
| `--output`     | è¾“å‡ºæ–‡ä»¶å¤¹è·¯å¾„            | `./results/`       |
| `--vis`        | æ˜¯å¦æ˜¾ç¤ºäº¤äº’å¼å¯è§†åŒ–ï¼ˆOpen3Dï¼‰ | `--vis`            |
| `--min_branch` | æœ€å°ææ¡é•¿åº¦é˜ˆå€¼           | `--min_branch 0.1` |

---

### ğŸ§ª æµ‹è¯•

```bash
pytest tests/
```

---

### ğŸ“š å‚è€ƒæ–‡çŒ®ä¸èµ„æº

* ***Xu et al.***, *Skeleton-based tree structure analysis for 3D plant point clouds*, CVPR Workshop, 2021.
* ***Panja et al.***, *Topology extraction and classification in plant structures*, TCSVT, 2022.
* æœ¬é¡¹ç›®éƒ¨åˆ†ç»“æ„å‚è€ƒï¼š[PlantStructuralAnalysis](https://github.com/PlantStructuralAnalysis)

---

### ğŸ§‘â€ğŸ’» å¼€å‘è€…

* Author: **é¾šæ–‡ä¿Š Gong Wenjun**
* Email: `your-email@example.com`
* GitHub: [@jokermaster83](https://github.com/jokermaster83)

---

### ğŸ“œ License

æœ¬é¡¹ç›®é‡‡ç”¨ MIT åè®®ï¼Œè¯¦è§ [LICENSE](./LICENSE)ã€‚

---

å¦‚éœ€æˆ‘è¡¥å……è‹±æ–‡ç‰ˆ READMEã€å¯è§†åŒ–ç¤ºä¾‹å›¾ï¼Œæˆ–è‡ªåŠ¨ç”Ÿæˆ `.gitattributes` / `.gitignore` ç­‰é™„å±æ–‡ä»¶ï¼Œç»§ç»­è¯´ã€‚
